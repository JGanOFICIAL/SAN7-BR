<!DOCTYPE html>

<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - Sistema de Ponto</title>
<style>
body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(to right, #ffffff 55%, #f5f8ff 45%);
  margin: 0; padding: 0;
  display: flex; flex-direction: column; align-items: center; height: 100vh;
}
header {
  position: fixed; top: 0; left: 0; right: 0;
  background: #fff; height: 70px; display: flex; align-items: center; justify-content: flex-start;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding-left: 20px; z-index: 10;
}
header .logo {
  width: 220px; height: 45px;
  background-image: url('https://c2a6771173.cbaul-cdnwnd.com/4f0c8b93cda84ae8665e2b589652cf30/200000083-d9fb4d9fb6/700/3F36BE85-5E12-4237-844C-9BD82571F2C4.webp');
  background-repeat: no-repeat;
  background-size: contain;
  background-position: left;
}
.main-container {
  display: flex;
  justify-content: center;
  align-items: stretch;
  width: 100%;
  height: 100%;
  margin-top: 70px;
}
.image-section {
  flex: 1;
  background-image: url('https://s2-oglobo.glbimg.com/wpF9B9sKEL6PMjHhIIfCJSDzhwE=/0x0:826x551/888x0/smart/filters:strip_icc()/i.s3.glbimg.com/v1/AUTH_da025474c0c44edd99332dddb09cabe8/internal_photos/bs/2023/e/V/4Wg98xQVeM6KBREjlDpA/mulher-fazendo-agachamento-na-ma.jpg');
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  display: flex; flex-direction: column;
  justify-content: center; align-items: center;
  color: #fff;
  text-align: center;
  padding: 60px;
  position: relative;
  overflow: hidden;
}
.image-section::after {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.55);
}
.image-section h1, .image-section p {
  position: relative;
  z-index: 1;
}
.image-section h1 {
  font-size: 36px;
  font-weight: 700;
  margin-bottom: 10px;
}
.image-section p {
  font-size: 18px;
  max-width: 420px;
}
.login-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0 70px;
  position: relative;
  background: #fff;
  border-left: 1px solid rgba(0,0,0,0.1);
}
.login-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 320px;
}
.login-box input, .login-box button {
  width: 100%;
  height: 52px;
  border: 2px solid #003366;
  border-radius: 0;
  background: transparent;
  font-size: 18px;
  outline: none;
  transition: 0.3s;
  margin-bottom: 18px;
  box-sizing: border-box;
  text-align: center;
}
.login-box input:focus {
  border-color: #0066cc;
}
.login-box button {
  color: #003366;
  font-weight: 600;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
}
.login-box button:hover {
  background-color: #003366;
  color: #fff;
}
button.loading {
  pointer-events: none;
  opacity: 0.7;
}
.spinner {
  border: 3px solid transparent;
  border-top: 3px solid #003366;
  border-radius: 50%;
  width: 22px; height: 22px;
  animation: spin 0.8s linear infinite;
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
.alerta {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.4);
  display: none; align-items: center; justify-content: center;
}
.alerta .box {
  background: #fff; padding: 30px; border-radius: 8px;
  text-align: center; width: 300px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}
.alerta .box button {
  margin-top: 15px; width: 100px;
}
@media (max-width: 1024px) {
  .image-section h1 {font-size: 28px;}
  .image-section p {font-size: 16px;}
}
@media (max-width: 900px) {
  body {background: #fff;}
  .main-container {flex-direction: column;}
  .image-section {
    width: 100%;
    padding: 60px 30px;
    text-align: center;
    align-items: center;
    background-position: center center;
    background-size: cover;
  }
  .login-section {
    align-items: center;
    padding: 40px 20px;
    border-left: none;
  }
}
@media (max-width: 500px) {
  .login-box input, .login-box button {width: 100%;}
  .image-section h1 {font-size: 24px;}
}
</style>
</head>
<body>
<header>
<div style="position:absolute;top:50%;right:20px;transform:translateY(-60%);">
  <div id="menuBtn" style="cursor:pointer;font-size:48px;color:#000;line-height:1;">☰</div>
  <div id="menu" style="display:none;position:absolute;right:0;top:70px;background:#fff;padding:10px 15px;border:1px solid #ccc;">
    <a href="https://wa.me/5584991778690" target="_blank" style="color:#000;text-decoration:none;font-size:18px;">Suporte</a>
  </div>
</div>
<script>
menuBtn.onclick = () => {
  const m = menu;
  if (m.style.display === 'block') {
    m.style.display = 'none';
    menuBtn.textContent = '☰';
  } else {
    m.style.display = 'block';
    menuBtn.textContent = '✕';
  }
};
</script>
<div class="logo"></div>
</header>
<div class="main-container">
  <div class="image-section">
    <h1>#EuSouDomusFit</h1>
    <p>Colaborador, é um prazer ter você conosco.</p>
  </div>
  <div class="login-section">
    <div class="login-box">
      <input type="text" id="serie" maxlength="5" placeholder="SUA CHAVE DE ACESSO...">
      <button id="entrarBtn">Acessar</button>
    </div>
<br>
<style>
.menu-scroll{position:relative;width:95%;margin:20px auto;overflow:hidden;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.1);border:1px solid #ddd;display:flex;flex-direction:column;align-items:center;padding:10px;box-sizing:border-box}
.menu-container{display:flex;gap:20px;overflow-x:auto;scroll-behavior:smooth;width:100%;padding:10px 0;scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none}
.menu-container::-webkit-scrollbar{display:none}
.menu-item{position:relative;min-width:340px;height:180px;background:#ccc;flex:0 0 auto;border:2px solid #eee;box-shadow:inset 0 -50px 80px rgba(0,0,0,.4);display:flex;align-items:flex-end;justify-content:flex-start;background-size:cover;background-position:center;scroll-snap-align:center}
.menu-item span{position:absolute;bottom:10px;left:10px;color:#fff;background:rgba(0,0,0,.5);padding:4px 8px;font-size:14px;font-weight:bold}
.menu-dots{display:flex;justify-content:center;gap:5px;margin-top:10px}
.menu-dots div{width:8px;height:8px;background:#004d00}
@media(max-width:768px){.menu-item{min-width:240px;height:140px}}
</style>
<div class="menu-scroll">
  <div class="menu-container" id="menuContainer">
    <div class="menu-item" style="background-image:url('https://blog.agenciaamp.com/wp-content/uploads/2024/04/LGPD.jpg');"><span>A LGPD vale para qualquer tratamento de dados pessoais, físicos ou digitais.</span></div>
    <div class="menu-item" style="background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTtr-gUCLPBV87Jn6xBCb6up6BCBkAujcg2D8edeGthmQ&s=10');"><span>Guarde sua chave de acesso em sigilo e não o compartilhe com ninguém. Mantenha seus dados protegidos.</span></div>
    <div class="menu-item" style="background-image:url('https://www.politicaetc.com.br/wp-content/uploads/2025/01/00-2.jpg');"><span>Sua chave de acesso só pode ser compartilhada com a equipe técnica oficial.</span></div>
  </div>
  <div class="menu-dots"><div></div><div></div><div></div></div>
</div>
<script>
const menuContainer=document.getElementById('menuContainer');
menuContainer.addEventListener('wheel',e=>{
  if(Math.abs(e.deltaY)>Math.abs(e.deltaX)){
    e.preventDefault();
    menuContainer.scrollLeft+=e.deltaY;
  }
});
</script>
  </div>
</div>
<div class="alerta" id="alertBox">
  <div class="box">
    <p id="alertMsg"></p>
    <button onclick="fecharAlerta()">OK</button>
  </div>
</div>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyBPiznHCVkTAgx6m02bZB8b0FFaot9UkBU",
  authDomain: "prefeitura-de-joao-camara.firebaseapp.com",
  projectId: "prefeitura-de-joao-camara",
  storageBucket: "prefeitura-de-joao-camara.firebasestorage.app",
  messagingSenderId: "269299041577",
  appId: "1:269299041577:web:fd41b2939240e9eb476338",
  measurementId: "G-YT7NHR342J"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const entrarBtn = document.getElementById("entrarBtn");
const serieInput = document.getElementById("serie");
entrarBtn.addEventListener("click", () => {
  const serie = serieInput.value.trim();
  if (serie.length !== 5) {
    mostrarAlerta("Digite um número de série válido (5 dígitos)");
    return;
  }
  entrarBtn.classList.add("loading");
  entrarBtn.innerHTML = '<div class="spinner"></div>';
  setTimeout(() => {
    db.ref("usuarios/" + serie).once("value").then(snapshot => {
      if (snapshot.exists()) {
        localStorage.setItem("usuarioAtual", serie);
        window.location.href = "index2.html";
      } else {
        mostrarAlerta("Número de série não encontrado");
      }
    }).catch(() => {
      mostrarAlerta("Erro ao conectar ao banco de dados");
    }).finally(() => {
      entrarBtn.classList.remove("loading");
      entrarBtn.textContent = "Acessar";
    });
  }, 800);
});
function mostrarAlerta(msg) {
  document.getElementById("alertMsg").innerText = msg;
  document.getElementById("alertBox").style.display = "flex";
}
function fecharAlerta() {
  document.getElementById("alertBox").style.display = "none";
}
</script>
</body>
</html>






<style>
body {
  margin: 0;
  padding: 0;
  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(22px);
  height: 100vh;
  width: 100vw;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: Arial;
  overflow: hidden;
}

#overlayCaptcha {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  display: flex;
  align-items: center;
  justify-content: center;
}

#captchaBox {
  width: 340px;
  background: #fff;
  padding: 22px 22px 26px 22px;
  border: 2px solid #e5e5e5;
  display: flex;
  flex-direction: column;
  gap: 18px;
  box-shadow: 0 0 25px rgba(0,0,0,0.35);
  opacity: 1;
  transition: opacity 0.4s ease;
}

#titleCaptcha {
  font-size: 16px;
  color: #444;
  border-bottom: 1px solid #dcdcdc;
  padding-bottom: 8px;
}

#captchaRow {
  display: flex;
  align-items: center;
  gap: 15px;
}

.checkArea {
  width: 40px;
  height: 40px;
  border: 2px solid #bcbcbc;
  background: #f9f9f9;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  position: relative;
}

.spinner {
  width: 22px;
  height: 22px;
  border: 3px solid #bdbdbd;
  border-top-color: #333;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  display: none;
  position: absolute;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.checkmark {
  width: 26px;
  height: 26px;
  display: none;
}

.fadeOut {
  opacity: 0;
}

#infoField {
  border-top: 2px dotted #999;
  border-bottom: 2px dotted #999;
  padding: 10px 0;
  font-size: 14px;
  color: #444;
  display: flex;
  flex-direction: column;
  gap: 5px;
}
</style>

<div id="overlayCaptcha">
  <div id="captchaBox">

    <div id="titleCaptcha">Confirme que você não é um robô</div>

    <div id="captchaRow">
      <div class="checkArea" id="checkArea" onclick="startCaptcha()">
        <div class="spinner" id="spinner"></div>
        <svg id="check" class="checkmark" viewBox="0 0 24 24">
          <path d="M4 12l5 5L20 6" stroke="#0a0" stroke-width="3" fill="none"/>
        </svg>
      </div>
      <span style="font-size:18px;color:#222;">Marque o captcha para continuar</span>
    </div>

    <div id="infoField">
      <div id="sessionId"></div>
      <div>Desenvolvedor: San7Doc</div>
    </div>

  </div>
</div>

<script>
function generateId() {
  const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  let r = "";
  for (let i = 0; i < 24; i++) r += chars[Math.floor(Math.random() * chars.length)];
  return "#0000" + r;
}

document.getElementById("sessionId").innerText = generateId();

let clicked = false;

function startCaptcha() {
  if (clicked) return;
  clicked = true;

  const area = document.getElementById("checkArea");
  const spinner = document.getElementById("spinner");
  const check = document.getElementById("check");
  const box = document.getElementById("captchaBox");

  area.style.border = "none";
  area.style.background = "transparent";

  spinner.style.display = "block";

  setTimeout(() => {
    spinner.style.display = "none";
    check.style.display = "block";

    box.classList.add("fadeOut");

    setTimeout(() => {
      document.getElementById("overlayCaptcha").style.display = "none";
    }, 400);

  }, 2000);
}
</script>