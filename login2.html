<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - Sistema de Ponto</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
/* VARIÁVEIS DE CORES */
:root {
  --primary-color: #003366; /* Azul Escuro DomusFit */
  --secondary-color: #0066cc; /* Azul Claro para Destaques */
  --background-light: #f5f8ff; /* Fundo Levemente Azulado */
  --text-dark: #333;
  --text-light: #fff;
  --border-color: #ddd;
  --input-border-focus: var(--secondary-color);
  --button-hover-bg: var(--primary-color);
  --button-hover-text: var(--text-light);
}

/* ESTILO GERAL */
body {
  font-family: 'Poppins', sans-serif;
  background: var(--background-light);
  margin: 0; padding: 0;
  display: flex; 
  flex-direction: column; 
  /* Alinhamento removido para que o header ocupe a largura total */
  min-height: 100vh;
  color: var(--text-dark);
}

/* CABEÇALHO (FIXO/STICKY E DE PONTA A PONTA) */
header {
  position: sticky; /* Fixo no topo */
  top: 0; left: 0; right: 0;
  width: 100%; /* Garante de canto a canto */
  background: var(--text-light); height: 70px; 
  display: flex; 
  align-items: center; 
  justify-content: space-between; /* Logo esquerda, menu direita */
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  padding: 0 30px; 
  z-index: 20;
  box-sizing: border-box; /* Garante que o padding não afete a largura total */
}
header .logo {
  width: 220px; height: 45px;
  background-image: url('https://c2a6771173.cbaul-cdnwnd.com/4f0c8b93cda84ae8665e2b589652cf30/200000083-d9fb4d9fb6/700/3F36BE85-5E12-4237-844C-9BD82571F2C4.webp');
  background-repeat: no-repeat;
  background-size: contain;
  background-position: left;
}
/* Estilo do botão de menu no Header */
.header-menu-btn {
  cursor: pointer; font-size: 32px; 
  color: #000; 
  line-height: 1;
  transition: color 0.3s;
  padding: 5px; 
}
.header-menu-btn:hover {
  color: var(--primary-color);
}
#menu {
  display: none; 
  position: absolute; 
  right: 30px; 
  top: 60px;
  background: var(--text-light); padding: 15px 20px; 
  border-radius: 0;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
  min-width: 150px;
  z-index: 10;
}
#menu a {
  color: var(--primary-color); text-decoration: none; font-size: 16px;
  font-weight: 600; display: block; padding: 5px 0;
  transition: color 0.3s;
}
#menu a:hover {
  color: var(--secondary-color);
}

/* CONTAINER PRINCIPAL (Split Screen - Colado abaixo do header) */
.main-container {
  display: flex;
  justify-content: center;
  align-items: stretch;
  width: 100%;
  flex-grow: 1;
  margin-top: 0; /* Colado no header sticky */
}

/* SEÇÃO DE IMAGEM (Lado esquerdo do Split Screen) */
.image-section {
  flex: 1.2;
  background-image: url('https://s2-oglobo.glbimg.com/wpF9B9sKEL6PMjHhIIfCJSDzhwE=/0x0:826x551/888x0/smart/filters:strip_icc()/i.s3.glbimg.com/v1/AUTH_da025474c0c44edd99332dddb09cabe8/internal_photos/bs/2023/e/V/4Wg98xQVeM6KBREjlDpA/mulher-fazendo-agachamento-na-ma.jpg');
  background-size: cover;
  background-position: center center;
  display: flex; flex-direction: column;
  justify-content: center; align-items: center;
  color: var(--text-light);
  text-align: center;
  padding: 60px;
  position: relative;
  overflow: hidden;
}
/* Sobreposição de Gradiente */
.image-section::after {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: linear-gradient(135deg, rgba(0, 51, 102, 0.75) 0%, rgba(0, 102, 204, 0.55) 100%);
}
.image-section h1, .image-section p {
  position: relative;
  z-index: 1;
  text-shadow: 1px 1px 4px rgba(0,0,0,0.4);
}
.image-section h1 {
  font-size: 44px;
  font-weight: 700;
  margin-bottom: 15px;
}
.image-section p {
  font-size: 18px;
  font-weight: 300;
  max-width: 450px;
}

/* SEÇÃO DE LOGIN (Lado direito do Split Screen) */
.login-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 40px 70px;
  position: relative;
  background: var(--text-light);
}
.login-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 360px;
  padding: 30px;
  border-radius: 0;
  box-shadow: 0 10px 30px rgba(0,0,0,0.08);
  background: var(--text-light);
}

/* CAMPOS E BOTÃO */
.login-box input, .login-box button {
  width: 100%;
  height: 54px;
  border: 1px solid var(--border-color);
  border-radius: 0;
  background: var(--background-light);
  font-size: 16px;
  outline: none;
  transition: all 0.3s ease;
  margin-bottom: 20px;
  box-sizing: border-box;
  text-align: center;
  padding: 0 15px;
}
.login-box input::placeholder {
    color: #999;
}
.login-box input:focus {
  border-color: var(--input-border-focus);
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.2);
  background: var(--text-light);
}
.login-box button {
  background-color: var(--primary-color);
  color: var(--text-light);
  font-weight: 600;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  border: none;
}
.login-box button:hover {
  background-color: var(--secondary-color);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 51, 102, 0.3);
}
button.loading {
  pointer-events: none;
  opacity: 0.8;
  background-color: var(--primary-color);
}

/* SPINNER */
.spinner {
  border: 4px solid rgba(255, 255, 255, 0.3);
  border-top: 4px solid var(--text-light);
  border-radius: 50%;
  width: 24px; height: 24px;
  animation: spin 0.8s linear infinite;
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ALERTA (MODAL) */
.alerta {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.6);
  display: none; align-items: center; justify-content: center;
  z-index: 100;
}
.alerta .box {
  background: var(--text-light); padding: 35px; 
  border-radius: 0;
  text-align: center; width: 90%; max-width: 350px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.3);
}
.alerta .box p {
    font-size: 18px;
    margin-bottom: 20px;
    color: var(--text-dark);
}
.alerta .box button {
  margin-top: 0; width: 120px;
  height: 45px;
  background-color: var(--secondary-color);
  color: var(--text-light);
  border: none;
  font-weight: 600;
  cursor: pointer;
  border-radius: 0;
}
.alerta .box button:hover {
    background-color: var(--primary-color);
}

/* ESTILOS PARA CHECKBOX MODERNO */
.remember-me {
    display: flex;
    align-items: center;
    width: 100%;
    margin-bottom: 20px;
    justify-content: flex-start; 
}
.remember-me label {
    display: flex;
    align-items: center;
    cursor: pointer;
    font-size: 14px;
    font-weight: 400;
    color: var(--text-dark);
}
.remember-me input[type="checkbox"] {
    display: none; /* Esconde o checkbox nativo */
}
.custom-checkbox {
    width: 20px;
    height: 20px;
    border: 2px solid var(--primary-color);
    margin-right: 10px;
    display: inline-block;
    position: relative;
    flex-shrink: 0;
    transition: background-color 0.2s, border-color 0.2s;
    border-radius: 3px; 
}
.remember-me input[type="checkbox"]:checked + .custom-checkbox {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}
.remember-me input[type="checkbox"]:checked + .custom-checkbox::after {
    content: '';
    position: absolute;
    left: 6px;
    top: 2px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 3px 3px 0;
    transform: rotate(45deg);
}


/* CARROSSEL DE DICAS (MENU SCROLL) */
.menu-scroll{
    position:relative;width:100%;margin-top: 30px;
    box-shadow:none;border:none;background:transparent;
    padding: 0; box-sizing:border-box;
}
.menu-container{
    display:flex;gap:15px;overflow-x:auto;
    scroll-behavior:smooth;width:100%;padding:10px 0;
    scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none
}
.menu-container::-webkit-scrollbar{display:none}
.menu-item{
    position:relative;min-width:280px;height:160px;
    background:#ccc;flex:0 0 auto;border:none;
    border-radius: 0;
    box-shadow:0 4px 10px rgba(0,0,0,.1);
    display:flex;align-items:flex-end;justify-content:flex-start;
    background-size:cover;background-position:center;
    scroll-snap-align:start;
    overflow: hidden;
}
.menu-item::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
}
.menu-item span{
    position:relative;
    z-index: 1;
    bottom:10px;left:10px;color:var(--text-light);
    padding:4px 8px;font-size:13px;font-weight:600;
}
.menu-dots{
    display:flex;justify-content:center;gap:6px;margin-top:15px
}
.menu-dots div{
    width:8px;height:8px;background:var(--border-color);
    border-radius: 50%;
    transition: background-color 0.3s;
}
.menu-dots div.active {
    background: var(--primary-color);
}

/* MEDIA QUERIES (Responsividade) */
@media (max-width: 1024px) {
  .image-section h1 {font-size: 36px;}
  .image-section p {font-size: 16px;}
  .login-section {padding: 30px 40px;}
  .image-section {flex: 1;}
}
@media (max-width: 900px) {
  /* Alinhamento no mobile: Logo esquerda e menu direita */
  header {padding: 0 20px;}
  /* Aqui o main-container empilha a imagem e o login */
  .main-container {flex-direction: column; flex-grow: 1;}
  /* A imagem ocupa 100% da largura em mobile e tem altura fixa */
  .image-section {
    width: 100%;
    height: 30vh;
    min-height: 200px;
    padding: 30px 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
  .image-section h1 {font-size: 32px;}
  .login-section {
    padding: 40px 20px;
    border-left: none;
    flex-grow: 1;
  }
  .login-box {
    padding: 20px;
    box-shadow: none;
    max-width: 100%;
  }
  .menu-item{min-width:85vw;}
}
@media (max-width: 500px) {
  #menu {right: 20px;}
  .login-box {max-width: 100%;}
  .image-section h1 {font-size: 28px;}
}
</style>
</head>
<body>
<div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
        <div class="vw-plugin-top-wrapper"></div>
    </div>
</div>
<script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
<script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');
</script>
<header>
  <div class="logo"></div>

  <div>
    <div id="menuBtn" class="header-menu-btn">☰</div>
    <div id="menu">
      <a href="https://wa.me/5584991778690" target="_blank">Suporte</a>
    </div>
  </div>

<script>
// JS para o botão de menu (abrir/fechar)
const menuBtn = document.getElementById('menuBtn');
const menu = document.getElementById('menu');
menuBtn.onclick = () => {
  if (menu.style.display === 'block') {
    menu.style.display = 'none';
    menuBtn.textContent = '☰';
  } else {
    menu.style.display = 'block';
    menuBtn.textContent = '✕';
  }
};
</script>
</header>

<div class="main-container">
  <div class="image-section">
    <h1>#EuSouDomusFit</h1>
    <p>Colaborador, é um prazer ter você conosco. Faça seu login com a chave de acesso.</p>
  </div>
  
  <div class="login-section">
    <div class="login-box">
      <input type="text" id="serie" maxlength="5" placeholder="Sua Chave de Acesso (5 dígitos)">
      
      <div class="remember-me">
          <label for="rememberAccess">
              <input type="checkbox" id="rememberAccess">
              <span class="custom-checkbox"></span>
              Lembrar Chave de Acesso
          </label>
      </div>
      
      <button id="entrarBtn">Acessar</button>
    </div>
Mantenha seus dados protejidos e utilize esse sistema somente em locais permitidos.
<div class="menu-scroll">
  <div class="menu-container" id="menuContainer">
    <div class="menu-item" style="background-image:url('https://blog.agenciaamp.com/wp-content/uploads/2024/04/LGPD.jpg');"><span>A LGPD vale para qualquer tratamento de dados pessoais, físicos ou digitais.</span></div>
    <div class="menu-item" style="background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTtr-gUCLPBV87Jn6xBCb6up6BCBkAujcg2D8edeGthmQ&s=10');"><span>Guarde sua chave de acesso em sigilo e não o compartilhe com ninguém. Mantenha seus dados protegidos.</span></div>
    <div class="menu-item" style="background-image:url('https://www.politicaetc.com.br/wp-content/uploads/2025/01/00-2.jpg');"><span>Sua chave de acesso só pode ser compartilhada com a equipe técnica oficial.</span></div>
  </div>
  <div class="menu-dots" id="menuDots">
    <div class="active"></div><div></div><div></div>
  </div>
</div>

<script>
// JS para o carrossel de dicas
const menuContainer = document.getElementById('menuContainer');
const menuDots = document.getElementById('menuDots').children;
const updateDots = () => {
    const scrollPosition = menuContainer.scrollLeft;
    const itemWidth = menuContainer.children[0].offsetWidth + 15; // Largura do item + gap
    const activeIndex = Math.round(scrollPosition / itemWidth);

    for (let i = 0; i < menuDots.length; i++) {
        menuDots[i].classList.remove('active');
    }
    if (menuDots[activeIndex]) {
        menuDots[activeIndex].classList.add('active');
    }
};

menuContainer.addEventListener('scroll', updateDots);
// Previna o scroll vertical indesejado, permitindo apenas o horizontal
menuContainer.addEventListener('wheel', e => {
  if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
    e.preventDefault();
    menuContainer.scrollLeft += e.deltaY;
  }
});
// Inicializa o estado dos pontos
updateDots();
</script>
  </div>
</div>

<div class="alerta" id="alertBox">
  <div class="box">
    <p id="alertMsg"></p>
    <button onclick="fecharAlerta()">Entendi</button>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyBPiznHCVkTAgx6m02bZB8b0FFaot9UkBU",
  authDomain: "prefeitura-de-joao-camara.firebaseapp.com",
  projectId: "prefeitura-de-joao-camara",
  storageBucket: "prefeitura-de-joao-camara.firebasestorage.app",
  messagingSenderId: "269299041577",
  appId: "1:269299041577:web:fd41b2939240e9eb476338",
  measurementId: "G-YT7NHR342J"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const entrarBtn = document.getElementById("entrarBtn");
const serieInput = document.getElementById("serie");

entrarBtn.addEventListener("click", () => {
  const serie = serieInput.value.trim();
  if (serie.length !== 5) {
    mostrarAlerta("Digite uma chave de acesso válida (5 dígitos)");
    return;
  }
  
  // LOGÍSTICA DE CARREGAMENTO
  entrarBtn.classList.add("loading");
  entrarBtn.innerHTML = '<div class="spinner"></div>';
  
  setTimeout(() => {
    // LOGÍSTICA DE FIREBASE
    db.ref("usuarios/" + serie).once("value").then(snapshot => {
      if (snapshot.exists()) {
        localStorage.setItem("usuarioAtual", serie);
        // Lógica para lembrar a chave de acesso (se o checkbox estiver marcado)
        const rememberCheckbox = document.getElementById('rememberAccess');
        if (rememberCheckbox.checked) {
             // Implementar lógica de LocalStorage para salvar a chave aqui, se necessário.
             // Exemplo: localStorage.setItem("savedSerie", serie);
        } else {
             // Exemplo: localStorage.removeItem("savedSerie");
        }
        window.location.href = "index2.html";
      } else {
        mostrarAlerta("Chave de acesso não encontrada");
      }
    }).catch(() => {
      mostrarAlerta("Erro ao conectar ao banco de dados. Tente novamente.");
    }).finally(() => {
      // RESET DO BOTÃO
      entrarBtn.classList.remove("loading");
      entrarBtn.textContent = "Acessar";
    });
  }, 800);
});

// FUNÇÕES DE ALERTA
function mostrarAlerta(msg) {
  document.getElementById("alertMsg").innerText = msg;
  document.getElementById("alertBox").style.display = "flex";
}
function fecharAlerta() {
  document.getElementById("alertBox").style.display = "none";
}
</script>
</body>
</html>

<style>
#alertaSeguranca {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 999999;
}

#alertaBox {
  background: #fff;
  width: 90%;
  max-width: 350px;
  border: 3px solid #fff;
  border-radius: 0;
  padding: 20px;
  text-align: center;
  box-shadow: 0 0 20px rgba(0,0,0,0.2);
}

#alertaBox img {
  width: 60px;
  height: 60px;
  object-fit: contain;
  margin-bottom: 15px;
}

#alertaBox h2 {
  font-size: 20px;
  margin: 0 0 10px 0;
}

#alertaBox p {
  font-size: 15px;
  margin: 0 0 20px 0;
}

#alertaBox button {
  width: 100%;
  padding: 10px;
  background: #000;
  color: #fff;
  border: none;
  border-radius: 0;
  font-size: 16px;
  cursor: pointer;
}
</style>

<div id="alertaSeguranca">
  <div id="alertaBox">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfGuybRQ7f-VjYK1FV7MpxYeJhgWCLvFS_tZcyFTT6cA&s=10">
    <h2>Atenção!</h2>
    <p>Para alterar ou ajustar horários de pontos esquecidos ou não ativados, acesse a tela de batimento de pontos e clieque em abrir um chamado. É simples, rápido e você terá total suporte.</p>
    <button onclick="document.getElementById('alertaSeguranca').style.display='none'">OK</button>
  </div>
</div>

<script>
setTimeout(() => {
  document.getElementById('alertaSeguranca').style.display = "flex";
}, 2000);
</script>