<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login Administrativo</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
  body {
    margin:0; height:100vh; background: linear-gradient(135deg, #4b3b00, #d4af37);
    font-family: 'Poppins', sans-serif;
    display:flex; justify-content:center; align-items:center;
    color: #fff;
  }
  header {
    position: fixed;
    top:0; left:0; right:0; height:60px;
    background: rgba(212,175,55,0.95);
    display:flex; align-items:center; padding-left: 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
  }
  header img {
    height: 40px;
    max-width: 150px;
    object-fit: contain;
  }
  .login-box {
    background: rgba(255 255 255 / 0.1);
    padding: 40px 50px;
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(212,175,55,0.7);
    width: 320px;
    text-align: center;
  }
  .login-box h1 {
    margin-bottom: 30px;
    font-weight: 600;
    text-shadow: 1px 1px 4px #000000a8;
    font-size: 1.8rem;
  }
  .login-box input[type="email"],
  .login-box input[type="password"] {
    width: 100%;
    padding: 12px 15px;
    margin-bottom: 25px;
    border: none;
    border-radius: 6px;
    font-size: 1rem;
    outline: none;
    box-shadow: inset 0 0 6px #d4af37;
    background: rgba(255 255 255 / 0.15);
    color: #fff;
    transition: background-color 0.3s ease;
  }
  .login-box input::placeholder {
    color: #ffeb99dd;
  }
  .login-box input[type="email"]:focus,
  .login-box input[type="password"]:focus {
    background: rgba(255 255 255 / 0.3);
  }
  .login-box button {
    width: 100%;
    padding: 14px 0;
    background: #d4af37;
    border: none;
    border-radius: 6px;
    color: #422f00;
    font-weight: 700;
    font-size: 1.1rem;
    cursor: pointer;
    box-shadow: 0 5px 10px #d4af37bb;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
  }
  .login-box button:hover {
    background: #fff7c2;
    box-shadow: 0 7px 15px #d4af37ee;
  }
  .error-message {
    color: #ffcccc;
    margin-top: -20px;
    margin-bottom: 15px;
    font-weight: 600;
    font-size: 0.9rem;
  }
</style>
</head>
<body>

<header>
  <!-- COLE A URL DA LOGOMARCA AQUI -->
  <img id="logoEmpresa" src="https://via.placeholder.com/150x40?text=LOGO" alt="Logomarca Empresa" />
</header>

<div class="login-box">
  <h1>Login Administrativo</h1>
  <form id="loginForm">
    <input type="email" id="email" placeholder="E-mail" required autocomplete="username" />
    <input type="password" id="password" placeholder="Senha" required autocomplete="current-password" />
    <div class="error-message" id="errorMsg"></div>
    <button type="submit">Entrar</button>
  </form>
</div>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBs2GrFPGib7Nz02F03Eeo5DTW-8OTJmFI",
    authDomain: "san7-2b351.firebaseapp.com",
    databaseURL: "https://san7-2b351-default-rtdb.firebaseio.com",
    projectId: "san7-2b351",
    storageBucket: "san7-2b351.appspot.com",
    messagingSenderId: "511547914036",
    appId: "1:511547914036:web:0595e39aef88258c649761"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // Coloque aqui os e-mails e senhas aceitos para redirecionar para home2.html
  const allowedUsers = [
    { email: "admin@empresa.com", password: "senha123" },
    { email: "user@empresa.com", password: "senha456" }
  ];

  const loginForm = document.getElementById('loginForm');
  const errorMsg = document.getElementById('errorMsg');

  loginForm.addEventListener('submit', (e) => {
    e.preventDefault();
    errorMsg.textContent = '';

    const email = loginForm.email.value.trim();
    const password = loginForm.password.value.trim();

    // Validações simples no front
    if (!email || !password) {
      errorMsg.textContent = 'Preencha todos os campos.';
      return;
    }

    // Verifica se o usuário está na lista permitida
    const userAllowed = allowedUsers.find(u => u.email === email && u.password === password);
    if (!userAllowed) {
      errorMsg.textContent = 'Credenciais inválidas.';
      return;
    }

    // Tenta autenticar com Firebase Authentication
    auth.signInWithEmailAndPassword(email, password)
      .then(() => {
        window.location.href = "home2.html";
      })
      .catch((error) => {
        errorMsg.textContent = 'Erro ao autenticar: ' + error.message;
      });
  });
</script>

</body>
</html>
