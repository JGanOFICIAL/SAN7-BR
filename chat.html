<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Login - Academia</title>
<style>
:root{
  --bg:#fff;
  --dark:#000;
  --light:#f5f5f5;
  --accent:#f0f0f0;
  --green:#32CD32;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial}
body{background:var(--bg);color:var(--dark);min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding-top:100px}
header{position:fixed;top:0;left:0;right:0;height:64px;background:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 20px;border-bottom:1px solid #eee;z-index:10}
.logo-canto-esquerdo{height:38px;width:auto}
.menu-container{position:relative}
.menu-btn{width:32px;height:24px;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between}
.menu-btn div{width:100%;height:3px;background:#000;border-radius:2px;transition:all .3s}
.menu-btn.active div:nth-child(1){transform:rotate(45deg) translateY(9px)}
.menu-btn.active div:nth-child(2){opacity:0}
.menu-btn.active div:nth-child(3){transform:rotate(-45deg) translateY(-9px)}
.menu{position:absolute;top:40px;right:0;background:#fff;box-shadow:0 4px 15px rgba(0,0,0,.1);border-radius:6px;display:none;flex-direction:column;width:200px;overflow:hidden}
.menu.active{display:flex}
.menu a{text-decoration:none;color:#000;padding:12px 15px;transition:.3s}
.menu a:hover{background:#f5f5f5}

main{width:100%;max-width:400px;padding:20px}
.container{margin-top:20px}
h2{font-size:22px;font-weight:600;margin-bottom:25px}
label{display:block;font-size:14px;color:#444;margin-bottom:8px}
input[type="text"]{
  width:100%;padding:14px;border:none;border-bottom:1px solid #ccc;font-size:17px;color:#000;background:transparent;outline:none;
}
input::placeholder{color:#aaa}
.btn{margin-top:25px;width:100%;padding:14px;border-radius:8px;border:none;background:#e6e6e6;color:#999;font-weight:600;font-size:16px;cursor:pointer;transition:.3s}
.btn:hover{background:#ddd}
.btn.active{background:var(--green);color:#fff}
.info{margin-top:20px;font-size:13px;color:#555}
footer{margin-top:60px;font-size:12px;color:#888;text-align:center}
</style>
</head>
<body>
<header>
  <img src="https://c2a6771173.cbaul-cdnwnd.com/4f0c8b93cda84ae8665e2b589652cf30/200000005-62d7c62d7e/700/9A9000A9-FCA5-4306-876F-28C2D3211763.webp" class="logo-canto-esquerdo">
 




<button onclick="window.location.href='login.html'" style="background-color:#8DC63F;color:#fff;border:none;width:70px;height:35px;position:absolute;top:50%;right:10px;transform:translateY(-50%);font-weight:bold;cursor:pointer;">Voltar</button>

</header>





<div style="width:100%;display:flex;justify-content:center;padding:40px 0;background:#fff;font-family:'Poppins',sans-serif;">
  <form id="contato" style="width:90%;max-width:420px;display:flex;flex-direction:column;gap:20px;box-shadow:0 0 25px rgba(0,0,0,0.1);padding:30px;border-radius:12px;border:1px solid #eee;position:relative;">
    
    <div style="display:flex;align-items:center;gap:15px;margin-bottom:15px;">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-nbfV31Q0D60ZXy0yGLD4tlvMS0L1bJ4sFJ509AP4LQ&s=10" alt="Logo" style="width:50px;height:50px;object-fit:cover;border-radius:8px;">
      <h2 style="margin:0;font-size:1.5rem;color:#333;">Formulário de contato oficial</h2>
    </div>

    <input type="text" id="nome" placeholder="Seu nome" style="padding:14px 12px;border:2px solid #ccc;background:none;font-size:15px;color:#222;outline:none;border-radius:8px;transition:0.3s;">
    
    <div style="position:relative;">
      <div id="generoSelect" style="padding:14px 12px;border:2px solid #ccc;background:none;font-size:15px;color:#555;cursor:pointer;display:flex;justify-content:space-between;align-items:center;border-radius:8px;transition:0.3s;">
        <span>Selecione o gênero</span><span style="font-size:12px;">▼</span>
      </div>
      <div id="generoOptions" style="display:none;position:absolute;top:100%;left:0;width:100%;background:#fff;border:2px solid #8DC63F;box-shadow:0 5px 20px rgba(0,0,0,0.15);z-index:10;border-radius:8px;overflow:hidden;">
        <div data-value="homem" style="padding:10px 12px;cursor:pointer;transition:0.2s;">Homem</div>
        <div data-value="mulher" style="padding:10px 12px;cursor:pointer;transition:0.2s;">Mulher</div>
        <div data-value="outro" style="padding:10px 12px;cursor:pointer;transition:0.2s;">Outro</div>
      </div>
    </div>

    <input type="number" id="idade" placeholder="Idade" style="padding:14px 12px;border:2px solid #ccc;background:none;font-size:15px;color:#222;outline:none;border-radius:8px;transition:0.3s;">

    <div style="position:relative;">
      <div id="clienteSelect" style="padding:14px 12px;border:2px solid #ccc;background:none;font-size:15px;color:#555;cursor:pointer;display:flex;justify-content:space-between;align-items:center;border-radius:8px;transition:0.3s;">
        <span>Já é cliente?</span><span style="font-size:12px;">▼</span>
      </div>
      <div id="clienteOptions" style="display:none;position:absolute;top:100%;left:0;width:100%;background:#fff;border:2px solid #8DC63F;box-shadow:0 5px 20px rgba(0,0,0,0.15);z-index:10;border-radius:8px;overflow:hidden;">
        <div data-value="sou" style="padding:10px 12px;cursor:pointer;transition:0.2s;">Sou cliente</div>
        <div data-value="não sou" style="padding:10px 12px;cursor:pointer;transition:0.2s;">Não sou cliente</div>
      </div>
    </div>

    <button type="button" onclick="enviar()" style="padding:14px;border:none;background:#8DC63F;font-weight:bold;color:#111;cursor:pointer;transition:0.3s;text-transform:uppercase;letter-spacing:0.5px;border-radius:8px;box-shadow:0 5px 15px rgba(141,198,63,0.3);">Acessar</button>
  </form>
</div>

<script>
const inputs=document.querySelectorAll('#contato input');
inputs.forEach(i=>{
  i.addEventListener('focus',()=>{i.style.border='2px solid #8DC63F';});
  i.addEventListener('blur',()=>{
    if(i.value.trim()===''){i.style.border='2px solid #ccc';}
    else{i.style.border='2px solid #ccc';}
  });
});

const generoSelect=document.getElementById('generoSelect');
const generoOptions=document.getElementById('generoOptions');
let generoValor='';
generoSelect.onclick=()=>{generoOptions.style.display=generoOptions.style.display==='none'?'block':'none';};
generoOptions.querySelectorAll('div').forEach(opt=>{opt.onclick=()=>{generoValor=opt.getAttribute('data-value');generoSelect.children[0].textContent=opt.textContent;generoOptions.style.display='none';};});

const clienteSelect=document.getElementById('clienteSelect');
const clienteOptions=document.getElementById('clienteOptions');
let clienteValor='';
clienteSelect.onclick=()=>{clienteOptions.style.display=clienteOptions.style.display==='none'?'block':'none';};
clienteOptions.querySelectorAll('div').forEach(opt=>{opt.onclick=()=>{clienteValor=opt.getAttribute('data-value');clienteSelect.children[0].textContent=opt.textContent;clienteOptions.style.display='none';};});

function enviar(){
  const nome=document.getElementById('nome').value.trim();
  const idade=document.getElementById('idade').value.trim();
  if(!nome||!idade||!generoValor||!clienteValor){
    alert('Preencha todos os campos corretamente.');
    return;
  }
  const msg=`Me chamo ${nome}, tenho ${idade} anos, e ${clienteValor} cliente da DomusFit.`;
  window.location.href=`https://wa.me/5584991078696?text=${encodeURIComponent(msg)}`;
}
</script>





<div id="geo-permission" style="position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(180deg,#f5f9ff,#e8f3ff);z-index:9999;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;font-family:'Arial',sans-serif;transition:opacity 0.5s;">
  <img src="URL_DA_SUA_IMAGEM_AQUI" alt="Imagem" style="width:140px;height:140px;object-fit:contain;margin-bottom:25px;">
  <h2 style="margin-bottom:10px;color:#2c3e50;font-size:22px;">Permissão de Localização</h2>
  <p style="color:#555;margin-bottom:25px;font-size:15px;max-width:300px;">Precisamos da sua localização para validar o ponto. Clique em continuar e permita o acesso.</p>
  <div style="display:flex;gap:12px;">
    <button id="btnContinuar" style="background:#4da6ff;color:white;border:none;padding:12px 25px;cursor:pointer;font-size:16px;font-weight:600;box-shadow:0 3px 8px rgba(0,0,0,0.1);transition:0.3s;">Continuar</button>
    <button onclick="window.location.href='login.html'" style="border:2px solid #4CAF50;background:transparent;color:#4CAF50;padding:12px 25px;cursor:pointer;font-size:16px;font-weight:600;transition:0.3s;">Voltar</button>
  </div>
</div>

<div id="geo-block" style="position:fixed;top:0;left:0;width:100%;height:100%;background:white;z-index:10000;display:none;flex-direction:column;align-items:center;justify-content:center;text-align:center;font-family:'Arial',sans-serif;">
  <h2 style="color:red;margin-bottom:10px;font-size:22px;">Acesso Negado</h2>
  <p style="color:#444;margin-bottom:25px;font-size:15px;">Você não está dentro da área permitida para bater o ponto.</p>
  <button onclick="window.location.href='login.html'" style="border:2px solid #4CAF50;background:transparent;color:#4CAF50;padding:12px 25px;cursor:pointer;font-size:16px;font-weight:600;">Voltar</button>
</div>

<script>
const localLatitude = -5.536936;
const localLongitude = -35.816788;
const raioPermitido = 400;

function calcularDistancia(lat1, lon1, lat2, lon2) {
  const R = 6371e3;
  const φ1 = lat1 * Math.PI/180;
  const φ2 = lat2 * Math.PI/180;
  const Δφ = (lat2 - lat1) * Math.PI/180;
  const Δλ = (lon2 - lon1) * Math.PI/180;
  const a = Math.sin(Δφ/2)**2 + Math.cos(φ1)*Math.cos(φ2)*Math.sin(Δλ/2)**2;
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return R * c;
}

document.getElementById("btnContinuar").addEventListener("click", () => {
  const btn = document.getElementById("btnContinuar");
  btn.disabled = true;
  btn.textContent = "Validando...";
  const spinner = document.createElement("div");
  spinner.style.width = "45px";
  spinner.style.height = "45px";
  spinner.style.border = "5px solid #cce6ff";
  spinner.style.borderTop = "5px solid #4da6ff";
  spinner.style.borderRadius = "50%";
  spinner.style.animation = "spin 1s linear infinite";
  spinner.style.margin = "25px auto 0";
  document.getElementById("geo-permission").appendChild(spinner);

  navigator.geolocation.getCurrentPosition(pos => {
    const { latitude, longitude } = pos.coords;

    fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${latitude}&lon=${longitude}`)
      .then(res => res.json())
      .then(() => {
        const distancia = calcularDistancia(localLatitude, localLongitude, latitude, longitude);
        setTimeout(() => {
          if (distancia <= raioPermitido) {
            document.getElementById("geo-permission").style.opacity = "0";
            setTimeout(() => {
              document.getElementById("geo-permission").style.display = "none";
            }, 500);
          } else {
            document.getElementById("geo-block").style.display = "flex";
          }
        }, 4000);
      })
      .catch(() => {
        document.getElementById("geo-block").style.display = "flex";
      });
  }, () => {
    alert("Não foi possível obter sua localização.");
    btn.disabled = false;
    btn.textContent = "Continuar";
    document.querySelector("#geo-permission div:last-child").remove();
  });
});

const style = document.createElement("style");
style.innerHTML = `
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
button:hover { transform: scale(1.03); opacity:0.9; }
`;
document.head.appendChild(style);
</script>