<!-- artigo.html -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Artigo</title>
<style>
  :root{
    --azul:#0d2240;
    --branco:#ffffff;
    --creme:#f7f7fb;
    --borda:#d0d0df;
    --texto:#1e1e2a;
    --sutil:#555;
    --blur: 14px;
    --radius:16px;
    --shadow: 0 10px 40px rgba(0,0,0,.1);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    color:var(--texto);
    background: #f4f6fb url(BACKGROUND_URL_AQUI) no-repeat center/cover;
    min-height:100%;
  }
  header{
    position:sticky; top:0; z-index:100;
    background:linear-gradient(180deg, #ffffffee 0%, #f8faffcc 100%);
    color:var(--texto);
    border-bottom:1px solid #ddd;
    backdrop-filter:saturate(1.2) blur(4px);
  }
  .wrap{
    max-width:1100px; margin:0 auto; padding:14px 16px;
    display:flex; align-items:center; gap:14px; justify-content:center; flex-direction:column;
  }
  .logo img{
    width:70px; height:70px; object-fit:cover;
    border-radius:0; border:none; background:transparent;
    box-shadow:none;
  }
  .logo strong{font-weight:700; letter-spacing:.3px}
  .buscar{
    display:flex; gap:10px; align-items:center; width:100%;
    max-width:560px;
    background:#fff;
    border:1px solid #ddd;
    border-radius:12px; padding:10px 12px;
    box-shadow: inset 0 0 0 1px #eee;
  }
  .buscar input{
    flex:1; border:0; background:transparent; color:#222; font-size:15px;
  }
  .buscar input:focus{outline:none}
  .btn-voltar{
    border:1px solid var(--borda);
    background:var(--branco);
    color:#0e1b34;
    border-radius:10px;
    padding:10px 14px;
    font-weight:600;
    text-decoration:none;
    box-shadow: var(--shadow);
    margin-top:10px;
  }
  main{max-width:1100px; margin:18px auto 70px; padding:0 16px}
  .doc{
    background: #ffffffcc;
    border:1px solid #e4e4ee;
    border-radius:var(--radius);
    backdrop-filter: blur(var(--blur));
    box-shadow: var(--shadow);
    overflow:hidden;
  }
  .hero{ width:100%; aspect-ratio: 16/9; background:#eef1ff; overflow:hidden }
  .hero img{ width:100%; height:100%; object-fit:cover; display:block }
  .conteudo{ padding:18px 18px 24px; }
  h1{ margin:0 0 8px; font-size:28px; line-height:1.15; color:#0e1b34 }
  .meta{ display:none }
  .texto{ font-size:16px; line-height:1.7; color:#202436; white-space:pre-wrap }
  .galeria{
    display:grid; grid-template-columns: 1fr 1fr; gap:10px;
    padding:16px; border-top:1px dashed #e7e7f1; background:#fafbff
  }
  .galeria img{ width:100%; height:220px; object-fit:cover; border-radius:10px }
  @media (max-width:700px){ .galeria{grid-template-columns:1fr} .buscar{max-width:none} }
</style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="logo">
        <img id="logo" alt="Logomarca">
      </div>
  
      <a class="btn-voltar" href="livros.html">Voltar</a>
    </div>
  </header>

  <main>
    <article class="doc">
      <div class="hero"><img id="imgHero" alt="Imagem da publicação"></div>
      <div class="conteudo">
        <h1 id="titulo">Carregando…</h1>
        <div class="meta" id="meta"></div>
        <div class="texto" id="texto"></div>
      </div>
      <div class="galeria" id="galeria" style="display:none"></div>
    </article>
  </main>

  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
  <script>
  const LOGO_URL = 'https://otimize-edoc.s3.amazonaws.com/edoc_1291/logo_joaocamara.png';
  const firebaseConfig = {
    apiKey: "AIzaSyCAlWxc7YxTMcTLCECUDuYfomO6QapreqY",
    authDomain: "login-you-see.firebaseapp.com",
    databaseURL: "https://login-you-see-default-rtdb.firebaseio.com",
    projectId: "login-you-see",
    storageBucket: "login-you-see.firebasestorage.app",
    messagingSenderId: "524877259374",
    appId: "1:524877259374:web:9ff66b67c9c5bf0bb07c7f",
    measurementId: "G-K7E00VXYHG"
  };

  document.getElementById('logo').src = LOGO_URL;
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  function qs(k){
    const u = new URL(location.href);
    return u.searchParams.get(k);
  }

  const id = qs('id');
  const ref = db.ref('posts/'+id);

  ref.on('value', snap=>{
    const v = snap.val();
    if(!v){ document.getElementById('titulo').textContent = 'Publicação não encontrada'; return; }

    const imgs = [v.image1, v.image2].filter(Boolean);
    const hero = imgs.length ? imgs[0] : 'https://picsum.photos/1200/675';
    document.getElementById('imgHero').src = hero;
    document.getElementById('titulo').textContent = v.title || 'Sem título';
    document.getElementById('texto').textContent = v.text || '';

    const g = document.getElementById('galeria');
    if(imgs.length>1){
      g.style.display = 'grid';
      g.innerHTML = imgs.map(src=>`<img loading="lazy" src="${src}" alt="Imagem da publicação">`).join('');
    }else{
      g.style.display = 'none';
    }
  });
  </script>
</body>
</html>


<style>
  /* Fundo mais desfocado e escuro */
  #telaCarregamento {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    backdrop-filter: blur(12px);
    background: rgba(0, 0, 0, 0.55);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    transition: opacity 0.3s ease;
  }

  /* Caixa vertical estilo GOV */
  .carregandoBox {
    width: 160px;
    padding: 30px 20px;
    background: #fff;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    box-shadow: 0 6px 25px rgba(0,0,0,0.25);
    font-family: "Arial", sans-serif;
  }

  /* Bolinha girando mais profissional e suave */
  .spinner {
    width: 60px;
    height: 60px;
    border: 5px solid #0072c6;
    border-top: 5px solid transparent;
    border-radius: 50%;
    animation: girar 2.5s linear infinite; /* mais lenta e suave */
    margin-bottom: 20px;
  }

  @keyframes girar {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Texto carregando */
  .carregandoBox span {
    font-size: 17px;
    color: #0072c6;
    font-weight: bold;
    text-align: center;
  }
</style>

<div id="telaCarregamento">
  <div class="carregandoBox">
    <div class="spinner"></div>
    <span>carregando...</span>
  </div>
</div>

<script>
  setTimeout(() => {
    const tela = document.getElementById('telaCarregamento');
    tela.style.opacity = '0';
    setTimeout(() => { tela.style.display = 'none'; }, 300);
  }, 3000);
</script>
