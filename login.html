<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Prefeitura de João Câmara — Acesso</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  body,html{height:100%;width:100%;font-family:"Public Sans",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  body{
    display:flex;justify-content:center;align-items:center;
    background:#fff;
    background-image:url("https://otimize-edoc.s3.amazonaws.com/edoc_1291/logo_joaocamara.png"); /* <-- coloque aqui a URL da imagem de fundo */
    background-size:cover;background-position:center;
  }
  .login-container{
    background:linear-gradient(180deg,#0b2b6b 0%,#041739 100%);
    color:#fff;width:100%;max-width:420px;
    padding:40px 28px;min-height:100vh;
    display:flex;flex-direction:column;justify-content:center;
  }
  .logo{display:flex;align-items:center;gap:10px;margin-bottom:40px}
  .logo img{width:40px;height:40px;object-fit:contain;border-radius:6px}
  .logo div{display:flex;flex-direction:column}
  h2{font-size:22px;font-weight:700;margin-bottom:6px}
  p{font-size:15px;margin-bottom:28px}
  form{display:flex;flex-direction:column;gap:24px}
  input{
    width:100%;padding:14px 12px;font-size:18px;color:#fff;
    border:none;border-bottom:1px solid rgba(255,255,255,.7);
    background:transparent;outline:none;
  }
  input::placeholder{color:rgba(255,255,255,.6)}
  .btn{
    width:100%;padding:16px;border:none;border-radius:30px;
    font-weight:700;font-size:16px;cursor:pointer;transition:.2s;
  }
  .btn-prim{background:#bfbfbf;color:#333}
  .btn-prim:enabled{background:#fff;color:#0b2b6b}
  .btn-sec{background:#0b2b6b;color:#fff}
  .rodape{margin-top:40px;text-align:center;font-size:14px;color:rgba(255,255,255,.85)}
  .spinner{width:18px;height:18px;border:3px solid rgba(255,255,255,.4);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}
  @media(max-width:500px){
    .login-container{padding:30px 20px}
    h2{font-size:20px}
  }
</style>
</head>
<body>
  <div class="login-container">
    <div class="logo">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcf-AtSCrU4sQ8PORTd7uRTwMwR1mzoxn5NMWhhAKbE2dsKY6Uiu17i5U7&s=10" alt="Logo">
      <div>
        <strong>Câmara Municipal</strong>
        <small>Prefeitura de João Câmara/RN</small>
      </div>
    </div>

    <h2>Para começar, informe seu e-mail</h2>
    <p>Somente endereços válidos</p>

    <form id="formLogin">
      <input id="email" type="email" autocomplete="email" required placeholder="Seu e-mail" />
      <input id="senha" type="password" autocomplete="current-password" required placeholder="Sua senha" />
      <button id="btnEntrar" class="btn btn-prim" type="submit" disabled>
        <span>Continuar</span>
      </button>
      <button type="button" class="btn btn-sec" onclick="location.href='cadastro.html'">
        Criar minha conta
      </button>
      <div id="loginMsg" class="rodape"></div>
    </form>


<style>
#fonezinho {
  width: 132px;   
  height: auto;  
  cursor: pointer;
  display: block;
  margin: 50px auto;
}
</style>

<img id="fonezinho" src="https://lh7-rt.googleusercontent.com/formsz/AN7BsVBhWpurDFiEzKiFZ655EwgTrV6YwyYZStd672pxCBcxZg-4VVvOqsuu-8pO016jKDGe75Kh8BuU3rE8YzFCR_a6kaeuUbyac_R6uA0IKwQhtXhNNMEiWHN9Qt3pusgUQqZ0vJ88uZVGfOQPUGRiysnmBscOIcMg31usyg?key=rgGrow1iu4frhnE-FgQLyQ" alt="Fonezinho">

<script>
const textoParaFalar = "Digite as informações de acesso para acessar sua conta. Caso ainda não tenha uma conta, clique em criar minha conta e você será levado até a área de cadastro. Lembre-se de não compartilhar seus dados com terceiros.";

const fone = document.getElementById("fonezinho");

fone.addEventListener("click", () => {
  if ('speechSynthesis' in window) {
    speechSynthesis.cancel();
    let utterance = new SpeechSynthesisUtterance(textoParaFalar);
    utterance.lang = 'pt-BR';
    speechSynthesis.speak(utterance);
  }
});
</script>


    <div class="rodape">© Câmara Municipal de João Câmata/RN - <span id="ano"></span></div>
  </div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script src="script.js"></script>
  <script>
    document.getElementById('ano').textContent = new Date().getFullYear();

    const form = document.getElementById('formLogin');
    const btn = document.getElementById('btnEntrar');
    const msg = document.getElementById('loginMsg');
    const emailInput = document.getElementById('email');
    const senhaInput = document.getElementById('senha');

    function toggleButton(){
      btn.disabled = !(emailInput.value.trim() && senhaInput.value);
    }
    emailInput.addEventListener('input', toggleButton);
    senhaInput.addEventListener('input', toggleButton);

    function setLoading(is){
      btn.disabled = is;
      btn.innerHTML = is ? '<div class="spinner"></div><span style="margin-left:8px">Entrando…</span>' : '<span>Continuar</span>';
    }

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      setLoading(true); msg.textContent = '';
      const email = emailInput.value.trim();
      const senha = senhaInput.value;
      try{
        await loginComEmail(email, senha);
        location.href = 'perfil.html';
      }catch(err){
        msg.textContent = traduzErroAuth(err);
      }finally{ setLoading(false); }
    });
  </script>
</body>
</html>