<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Prefeitura de João Câmara — Perfil</title><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Rawline:wght@400;600;700&family=Public+Sans:wght@400;600;700&display=swap" rel="stylesheet"><style>
:root{--gov-azul:#0a2a66;--gov-amarelo:#FFCD00;--gov-branco:#fff;--gov-verde:#168821;--cinza:#f4f6fa;--sombra:0 6px 24px rgba(0,0,0,.08)}
body{margin:0;background:var(--cinza);color:#1f1f1f;font-family:"Public Sans","Rawline",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
header{position:sticky;top:0;background:var(--gov-azul);color:#fff;padding:16px 22px;display:flex;align-items:center;justify-content:space-between;box-shadow:var(--sombra);z-index:10;border-bottom:2px solid rgba(255,255,255,.15)}
.esq{display:flex;align-items:center;gap:14px}
.logo{width:48px;height:48px;background:#fff;border-radius:10px;overflow:hidden;display:flex;align-items:center;justify-content:center}
.logo img{width:100%;height:100%;object-fit:contain}
.saud{display:flex;flex-direction:column}
.saud strong{font-size:19px}
.btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 16px;border:none;border-radius:12px;font-weight:700;cursor:pointer;transition:.25s}
.btn:hover{opacity:.9;transform:translateY(-1px)}
.btn-sair{background:#eaf1ff;color:#0b2b6b}
main{max-width:1080px;margin:28px auto;padding:0 18px}
.cards{display:grid;grid-template-columns:1fr 1fr;gap:18px}
@media(max-width:900px){.cards{grid-template-columns:1fr}}
.card{background:var(--gov-branco);border-radius:14px;box-shadow:var(--sombra);padding:22px;transition:.25s}
.card:hover{transform:translateY(-3px)}
.acoes{display:flex;gap:10px;flex-wrap:wrap}
.btn-acao{background:var(--gov-verde);color:#fff}
.btn-acao.sec{background:#fffae6;color:#584300;border:1px solid #ffe08a}
.link{display:inline-flex;align-items:center;gap:8px;text-decoration:none}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.42);display:none;align-items:center;justify-content:center;padding:12px;z-index:50}
.modal{width:min(720px,100%);max-height:80vh;overflow:auto;background:#fff;border-radius:18px;box-shadow:var(--sombra);padding:20px}
.mhead{display:flex;align-items:center;justify-content:space-between;gap:8px;position:sticky;top:0;background:#fff}
.mclose{border:none;background:#f1f3f5;border-radius:10px;padding:10px;cursor:pointer;font-weight:700}
label{font-weight:600}
input{width:100%;padding:12px;border:1px solid #dfe3eb;border-radius:12px;font-size:16px;outline:none;transition:.25s}
input:focus{border-color:#0a2a66;box-shadow:0 0 0 3px rgba(10,42,102,.18)}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media(max-width:700px){.grid{grid-template-columns:1fr}}
.btn-save{background:var(--gov-azul);color:#fff}
.spinner{width:18px;height:18px;border:3px solid rgba(255,255,255,.4);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite;margin-right:8px}
@keyframes spin{to{transform:rotate(360deg)}}
.chip{display:inline-block;background:#eaf1ff;color:#0b2b6b;border-radius:999px;padding:6px 10px;font-size:12px;border:1px solid #d6e4ff}
.colecao-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;padding:20px;font-family:Arial,sans-serif}
.item{background:#fff;border:1px solid #dcdcdc;border-radius:10px;overflow:hidden;box-shadow:0 2px 6px rgba(0,0,0,.08);transition:.25s}
.item:hover{transform:translateY(-5px)}
.item img{width:100%;height:160px;object-fit:cover}
.item-content{padding:15px}
.item h3{font-size:18px;margin:0 0 8px;color:#0a2a66}
.item p{font-size:14px;color:#555;margin-bottom:15px}
.item a{display:inline-block;padding:9px 16px;background:#0a2a66;color:#fff;border-radius:6px;text-decoration:none;font-size:14px;transition:.25s}
.item a:hover{background:#071f4c}
#telaCarregamento{position:fixed;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(12px);background:rgba(0,0,0,.55);display:flex;justify-content:center;align-items:center;z-index:9999;transition:opacity .3s ease}
.carregandoBox{width:170px;padding:32px 22px;background:#fff;border-radius:12px;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:0 6px 25px rgba(0,0,0,.25);font-family:"Arial",sans-serif}
.carregandoBox .spinner{width:62px;height:62px;border:6px solid #0a2a66;border-top:6px solid transparent;border-radius:50%;animation:girar 2.5s linear infinite;margin-bottom:20px}
@keyframes girar{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.carregandoBox span{font-size:17px;color:#0a2a66;font-weight:bold;text-align:center}
</style></head><body><header><div class="esq"><div class="logo"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQpN6mG9JrV3AvmACLq0uOQb0OcGFLu4WW8sOckbZpA8ow2biqC-IxosxA&s=10" alt="Logomarca"></div><div class="saud"><small>Câmara Municipal de João Câmara</small><strong id="saudacao">Olá!</strong></div></div><button id="btnSair" class="btn btn-sair">SAIR</button></header><main><div class="cards"><section class="card"><h2 style="margin:0 0 6px">Minha área</h2><div class="acoes" style="margin-top:8px"><button id="btnDados" class="btn btn-acao">Editar dados</button><a class="btn btn-acao sec link" href="https://joaocamara.rn.gov.br" id="btnEventos">Eventos municipais</a><a class="btn btn-acao sec link" href="https://joaocamara.rn.gov.br/?s=Editais" id="btnEditais">Editais</a><a class="btn btn-acao sec link" href="https://joaocamara.rn.gov.br/" target="_blank" rel="noopener">Site oficial da Prefeitura</a></div><div style="margin-top:10px"></div></section></div><div class="colecao-container"><div class="item"><img src="https://826d3d7dee.cbaul-cdnwnd.com/62fd26f239c381f07684529cff4b51b2/200000107-e15d4e15d6/3C97C41F-B39C-4A81-B44C-567375BD5383.webp" alt="Imagem 1"><div class="item-content"><h3>Biblioteca Virtual</h3><p>A biblioteca virtual oferece acesso rápido e seguro a livros, artigos e conteúdos digitais, permitindo consultas de qualquer lugar e facilitando estudos e pesquisas.</p><a href="livros.html">Acessar</a></div></div><div class="item"><img src="https://826d3d7dee.cbaul-cdnwnd.com/62fd26f239c381f07684529cff4b51b2/200000105-26be326be5/700/D1C9A504-B5D1-48AB-A9C0-063E766D086A.webp" alt="Imagem 2"><div class="item-content"><h3>Vereador conectado</h3><p>Veja tudo que se passa no mandato do seu vereador, de forma segura e transparente.</p><a href="vereador.html">Acessar</a></div></div><div class="item"><img src="https://us.123rf.com/450wm/bilahstudio/bilahstudio2103/bilahstudio210300554/165645817-ilustra%C3%A7%C3%A3o-vetorial-do-conceito-de-neg%C3%B3cio-erro-404-congelar-da-internet-indispon%C3%ADvel-irritado-e.jpg?ver=6" alt="Imagem 3"><div class="item-content"><h3>Em desenvolvimento.</h3><p>Em desenvolvimento.</p><a href="biblioteca.html">Acessar</a></div></div><div class="item"><img src="https://us.123rf.com/450wm/bilahstudio/bilahstudio2103/bilahstudio210300554/165645817-ilustra%C3%A7%C3%A3o-vetorial-do-conceito-de-neg%C3%B3cio-erro-404-congelar-da-internet-indispon%C3%ADvel-irritado-e.jpg?ver=6" alt="Imagem 4"><div class="item-content"><h3>Em desenvolvimento.</h3><p>Em desenvolvimento.</p><a href="biblioteca.html">Acessar</a></div></div></div><section class="card"><h2 style="margin:0 0 6px">Meus dados</h2><div id="resumo"></div></section></main><div class="overlay" id="overlay"><div class="modal" role="dialog" aria-modal="true" aria-labelledby="tituloModal"><div class="mhead"><h3 id="tituloModal">Meus dados</h3><button class="mclose" id="fecharModal" aria-label="Fechar">✕</button></div><div style="display:grid;gap:10px;margin-top:10px"><div class="grid"><div><label>Nome completo</label><input id="m_nome" disabled/></div><div><label>CPF</label><input id="m_cpf" disabled/></div><div><label>Data de nascimento</label><input id="m_nasc" disabled/></div><div><label>Telefone (editável)</label><input id="m_tel"/></div><div><label>CEP (editável)</label><input id="m_cep" maxlength="9"/></div><div><label>Cidade (editável)</label><input id="m_cidade"/></div><div><label>Rua (editável)</label><input id="m_rua"/></div><div><label>Número (editável)</label><input id="m_numero"/></div></div><div style="display:flex;gap:10px;flex-wrap:wrap"><button id="btnSalvar" class="btn btn-save"><span>Salvar alterações</span></button></div><div id="modalMsg" style="font-size:14px;color:#5b6270"></div></div></div></div><div vw class="enabled"><div vw-access-button class="active"></div><div vw-plugin-wrapper><div class="vw-plugin-top-wrapper"></div></div></div><script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script><script>new window.VLibras.Widget('https://vlibras.gov.br/app');</script><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script><script src="script.js"></script><script>
protegerPagina();const btnSair=document.getElementById("btnSair");btnSair.addEventListener("click",async()=>{await sair();location.href="login.html"});onAuthReady(async e=>{const t=await obterPerfil(e.uid),n=(t?.nomeCompleto||"Cidadão").split(" ")[0];document.getElementById("saudacao").textContent=`Olá, ${n}!`,document.getElementById("resumo").innerHTML=`<div><strong>Nome:</strong> ${t?.nomeCompleto||"-"}</div><div><strong>CPF:</strong> ${t?.cpf||"-"}</div><div><strong>Nascimento:</strong> ${t?.nascimento||"-"}</div><div><strong>Telefone:</strong> ${t?.telefone||"-"}</div><div><strong>Endereço:</strong> ${formatEndereco(t?.endereco)}</div>`,document.getElementById("btnEventos").href="#/eventos-municipais",document.getElementById("btnEditais").href="#/editais"});const overlay=document.getElementById("overlay"),btnDados=document.getElementById("btnDados"),fecharModal=document.getElementById("fecharModal"),modalMsg=document.getElementById("modalMsg");function preencherModal(e){document.getElementById("m_nome").value=e?.nomeCompleto||"",document.getElementById("m_cpf").value=e?.cpf||"",document.getElementById("m_nasc").value=e?.nascimento||"",document.getElementById("m_tel").value=e?.telefone||"",document.getElementById("m_cep").value=e?.endereco?.cep||"",document.getElementById("m_cidade").value=e?.endereco?.cidade||"",document.getElementById("m_rua").value=e?.endereco?.rua||"",document.getElementById("m_numero").value=e?.endereco?.numero||""}function formatEndereco(e){if(!e)return"-";const t=[e.rua,e.numero&&"Nº "+e.numero,e.cidade,e.cep].filter(Boolean);return t.join(", ")}btnDados.addEventListener("click",async()=>{overlay.style.display="flex",modalMsg.textContent="";const e=firebase.auth().currentUser,t=await obterPerfil(e.uid);preencherModal(t)}),fecharModal.addEventListener("click",()=>{overlay.style.display="none"});const btnSalvar=document.getElementById("btnSalvar");function setSaving(e){btnSalvar.disabled=e,btnSalvar.innerHTML=e?'<div class="spinner"></div><span>Salvando…</span>':"<span>Salvar alterações</span>"}btnSalvar.addEventListener("click",async()=>{setSaving(!0),modalMsg.textContent="";const e=firebase.auth().currentUser,t={telefone:document.getElementById("m_tel").value.trim(),endereco:{cep:document.getElementById("m_cep").value.trim(),cidade:document.getElementById("m_cidade").value.trim(),rua:document.getElementById("m_rua").value.trim(),numero:document.getElementById("m_numero").value.trim()}};try{await atualizarContatoEndereco(e.uid,t),modalMsg.textContent="Alterações salvas com sucesso.";const n=await obterPerfil(e.uid);document.getElementById("resumo").innerHTML=`<div><strong>Nome:</strong> ${n?.nomeCompleto||"-"}</div><div><strong>CPF:</strong> ${n?.cpf||"-"}</div><div><strong>Nascimento:</strong> ${n?.nascimento||"-"}</div><div><strong>Telefone:</strong> ${n?.telefone||"-"}</div><div><strong>Endereço:</strong> ${formatEndereco(n?.endereco)}</div>`}catch(e){modalMsg.textContent=traduzErroAuth(e)}finally{setSaving(!1)}});</script><div id="telaCarregamento"><div class="carregandoBox"><div class="spinner"></div><span>carregando...</span></div></div><script>setTimeout(()=>{const e=document.getElementById("telaCarregamento");e.style.opacity="0",setTimeout(()=>{e.style.display="none"},300)},3000);</script></body></html>
